# AI-MATH界面设计详细场景描述稿

## 场景1: AI-MATH默认布局

### 整体布局结构
- **窗口尺寸**: 1920×1080像素，现代化Web应用界面
- **顶部标题栏**: 高60px，居中显示"AI-MATH"标题，使用30px白色无衬线字体，背景为深蓝色(#1976D2)
- **主体区域**: 分为三个明确边界的垂直区域:
  * 左侧DAG区域: 宽度占27.5%(528px)
  * 中间解题区域: 宽度占45%(864px)
  * 右侧AI模型面板: 宽度占22.5%(432px)
- **区域分隔线**: 2px宽的浅灰色(#E0E0E0)分隔线

### 左侧DAG区域细节(27.5%宽)
- **控制栏**: 高40px，背景色浅灰(#F5F5F5)
  * 左侧: 展开/折叠按钮(⟷图标)
  * 中央: "DAG历史"文字标签
  * 右侧: 缩放控制按钮组(+/-图标)

- **DAG可视化区域**:
  * 背景: 浅蓝色网格背景(#F0F8FF)，5px网格间距
  * 起始节点(题目): 位于顶部中央，80×60px浅蓝色(#BBDEFB)圆角矩形，圆角半径10px，文字"题目：二阶微分方程求解"，12px字体
  * 解题步骤节点(3个示例):
    - 节点1: 70×50px圆角矩形，绿色边框(#4CAF50)，文字"使用特征方程法"
    - 节点2: 70×50px圆角矩形，蓝色高亮边框(#2196F3，当前活动节点)，文字"求解特征方程"
    - 节点3: 70×50px圆角矩形，红色边框(#F44336，错误步骤)，文字"计算特征根"
  * 连接箭头: 2px宽黑色箭头，从上到下连接节点
  * 节点间距: 垂直间距60px，保持层次清晰

### 中间解题区域细节(45%宽)
- **题目块**:
  * 高度: 120px，宽度100%减去左右20px边距
  * 背景: 白色(#FFFFFF)，带有浅灰色边框(#E0E0E0)
  * 左侧标签: 垂直"题目"文字，深灰色(#616161)，14px字体
  * 内容区: 渲染的LaTeX数学公式，"$$\frac{d^2y}{dx^2} + 4\frac{dy}{dx} + 4y = 0$$"，18px大小
  * 右下角按钮: 编辑(✏️)和上传(📷)图标按钮，尺寸30×30px

- **解答块序列**(3个示例):
  * 解答块1:
    - 高度: 100px，宽度与题目块相同
    - 左侧: 圆形编号"1"，直径30px，白色文字，蓝色背景(#1976D2)
    - 右上角: 绿色对勾(✅)，表示正确
    - 中央: 渲染数学公式"$$\lambda^2 + 4\lambda + 4 = 0$$"
    - 右下角: 三个按钮 - 编辑(✏️)、删除(🗑️)、解析(🔍)
  
  * 解答块2:
    - 设计同解答块1
    - 数学公式: "$$(\lambda + 2)^2 = 0$$"
    - 右上角: 绿色对勾(✅)
  
  * 解答块3:
    - 设计同解答块1
    - 数学公式: "$$\lambda = -2 \text{ (重根)}$$"
    - 右上角: 没有对勾/叉号(尚未验证)

- **操作区**:
  * 位置: 底部，高60px
  * 输入框: 宽度占80%，圆角矩形，浅灰色背景(#F5F5F5)，提示文字"输入下一步解答..."
  * 按钮组(右侧排列):
    - 类似题按钮(📚): 30×30px图标按钮
    - 提交按钮(🖊): 蓝色80×30px按钮，白色文字"提交"
    - AI提示按钮(💡): 30×30px图标按钮
    - 步骤分析按钮(🔬): 30×30px图标按钮
    - 总结按钮(📝): 30×30px图标按钮

### 右侧AI模型面板细节(22.5%宽)
- **整体划分**: 垂直分为三个等高面板，每个高度约占33%(320px)

- **LaTeX格式化面板**(顶部):
  * 标题栏: 高40px，浅蓝色背景(#E3F2FD)，文字"LaTeX格式化"，控制按钮(最小化/最大化/关闭)
  * 折叠状态展示:
    - 预览区: 显示"点击展开LaTeX格式优化面板"
    - 状态指示: 灰色文字(未激活状态)

- **解释分析面板**(中部):
  * 标题栏: 高40px，浅绿色背景(#E8F5E9)，文字"解释分析"，控制按钮
  * 折叠状态展示:
    - 预览区: 显示"点击展开解题步骤分析面板"
    - 状态指示: 灰色文字(未激活状态)

- **总结归纳面板**(底部):
  * 标题栏: 高40px，浅紫色背景(#F3E5F5)，文字"总结归纳"，控制按钮
  * 折叠状态展示:
    - 预览区: 显示"点击展开解题过程总结面板"
    - 状态指示: 灰色文字(未激活状态)

- **分隔条**: 可拖动的水平分隔条，4px高，鼠标悬停时变为蓝色并显示拖动光标

## 场景2: 解释分析面板激活状态

### 整体布局变化
- **左侧DAG区域**: 折叠为宽60px的窄条，显示小图标版本的DAG
  * 顶部: 展开按钮(→图标)
  * 中部: 简化的DAG节点标识，只显示编号
  
- **中间解题区域**: 宽度缩减为50%(960px)
  * 内容与默认布局相同，但宽度变窄
  * 右侧边缘有蓝色垂直高亮条，表示与右侧面板的联动关系
  
- **右侧AI面板**: 解释分析面板扩展至50%(960px)宽度
  * 其他两个面板(LaTeX格式化和总结归纳)临时隐藏

### 激活的解释分析面板详细结构
- **标题栏**: 高50px，鲜明绿色背景(#4CAF50)，白色文字"解释分析"
  * 右侧: 最小化/恢复/关闭按钮组
  * 左侧: 返回按钮(←图标)

- **引用选择器区域**: 高80px
  * 水平滚动条包含解答块缩略图系列:
    - 缩略图尺寸: 每个50×40px
    - 左上角编号: 白色圆圈中的数字(1,2,3...)
    - 缩略内容: 极简版的公式预览
    - 选中状态: 选中的缩略图有绿色边框高亮
  * 右侧快捷按钮:
    - "全选"按钮: 60×30px
    - "从头选择"按钮: 80×30px

- **对话内容区域**: 占据面板中部大部分空间
  * 引用内容显示:
    - 浅绿色背景区域(#E8F5E9)
    - 顶部标签: "引用块 #2-3"
    - 显示原始解答块内容，带有LaTeX渲染
    - 底部有展开/折叠控制
  
  * AI回答内容:
    - 白色背景区域，黑色文字
    - 结构化内容，包含:
      * 【概念】标签下解释"特征方程法"
      * 【关键点】标签下列出要点
      * 【推导细节】标签下详细解释每一步

- **输入区域**: 底部，高120px
  * 输入框: 占据90%宽度，圆角矩形
    - 预填充文字: "请解释为什么要寻找特征根?"
    - 光标闪烁状态
  * 发送按钮: 50×50px圆形绿色按钮，白色发送图标(➤)
  * 智能提示区: 输入框上方显示3个气泡形建议问题

### 交互状态指示
- **活动区域高亮**: 解释分析面板周围有浅绿色阴影
- **解题区与面板联动**: 两区域之间有浅蓝色连接线
- **动态内容**: 输入框中的光标闪烁，输入建议渐入效果

## 场景3: DAG展开状态与问题探索模式

### 整体布局变化
- **DAG区域**: 扩展至70%宽度(1344px)
  * 背景转为更明亮的白色，便于查看复杂图形
  * 右侧边缘有拖动条，可调整分割比例
  
- **中间解题区域**: 完全隐藏(被DAG区域替代)
  
- **右侧区域**: 收缩为30%宽度(576px)
  * 显示问题探索界面，而非标准的三面板布局

### DAG区域详细展示
- **完整网络视图**:
  * 节点数量增加: 显示约12-15个解题步骤节点
  * 多路径展示: 有2-3条不同的解题路径
    - 主路径: 粗线连接，高亮显示
    - 替代路径: 细线连接，半透明
  * 节点排列: 形成树状结构，自上而下分层
  * 分支点: 特殊标记的节点，表示解题策略的分叉
  
- **控制面板**(顶部):
  * 左侧: 收起按钮(←图标)和"DAG完整视图"标题
  * 中部: 缩放控制(滑块和百分比显示)
  * 右侧: 三个模式切换按钮，并排排列
    - 列表按钮: 表格/列表图标，灰色
    - 问答按钮: 问号/对话图标，高亮蓝色(当前激活)
    - 总结按钮: 概要/总结图标，灰色
  
- **节点交互状态**:
  * 选中节点: 蓝色粗边框高亮，比普通节点大10%
  * 相关节点: 淡蓝色边框，表示与选中节点有关联
  * 未选中节点: 标准显示，稍微透明

### 右侧问题探索界面详细结构
- **头部信息区**: 高80px
  * 标题: "节点#5分析"，20px蓝色字体
  * 节点内容: 小号字体显示节点中的数学公式
  * 状态标签: 绿色"正确步骤"标签
  
- **问答交互区域**: 占据中部大部分空间
  * 对话气泡设计:
    - 用户问题: 右侧灰色气泡，圆角矩形
    - AI回答: 左侧白色气泡，浅蓝色边框
  * 示例对话:
    - 用户问题: "这个节点与其他解法有什么区别?"
    - AI回答: 结构化解释，包含与其他路径的比较
    - 用户追问: "哪种解法更高效?"
    - AI回答: 详细分析效率差异
  
- **输入区域**: 底部，高100px
  * 输入框: 圆角矩形，带提示"提问关于此解题步骤..."
  * 发送按钮: 蓝色圆形按钮，白色发送图标
  * 建议问题: 输入框上方3个气泡形按钮
    - "这步使用了什么定理?"
    - "为什么不用其他方法?"
    - "下一步应该怎么做?"

### 分隔区与交互提示
- **可拖动分隔条**:
  * 垂直分隔DAG和右侧面板
  * 宽6px，鼠标悬停变为蓝色
  * 中央有三个短横线标识可拖动
  
- **交互指引元素**:
  * 从选中节点到问答区域的虚线连接
  * 提示文字"点击节点查看详情"
  * 鼠标悬停在节点上显示放大预览

## 场景4: @块引用系统交互

### 界面基本布局
- **布局状态**: 类似于"解释分析面板激活状态"
  * 左侧: DAG区域折叠为窄条图标(60px宽)
  * 中间: 解题区占50%宽度(960px)
  * 右侧: 解释分析面板扩展至50%宽度(960px)

### 引用选择器区域特写
- **位置**: 解释分析面板输入框上方，高80px
- **缩略图序列**:
  * 水平排列6个解答块缩略图
  * 每个缩略图:
    - 尺寸: 50×40px，圆角矩形
    - 左上角编号: 白色圆圈中的数字(1,2,3,4,5,6)
    - 内容: 极简版数学公式
    - 状态标识: 微小的✓或✗图标
  * 选中状态:
    - 缩略图3-6被选中，有连续的绿色边框高亮
    - 未选中的缩略图(1-2)是标准灰色边框
  * 滚动控制: 两侧有左右滚动箭头

- **快速选择控件**:
  * "全选"按钮: 右侧60×30px按钮
  * "清除选择"按钮: 60×30px按钮
  * "区间选择"提示: 小文字"拖选区间"

### 输入框与引用显示
- **输入框状态**:
  * 内容: 显示文字"请分析@3-6中使用的积分技巧"
  * 光标: 位于文本末尾闪烁
  * @引用高亮: "@3-6"以蓝色高亮显示

- **引用预览下拉菜单**:
  * 触发条件: 输入@符号后显示
  * 内容: 显示可引用的块编号和预览
  * 选项列表:
    - @1: "特征方程设置"
    - @2: "方程展开"
    - ...
    - @全部: "引用所有解答块"
  * 交互状态: @3-6被选中高亮

### 对话内容区域
- **引用内容显示**:
  * 背景: 浅绿色背景区域(#E8F5E9)，圆角10px
  * 标头: "引用内容(块3-6)"，带展开/折叠控制
  * 内容: 完整显示原始解答块3-6的内容
    - 块3: "设置积分 $\int_{0}^{\pi} \sin^2(x) dx$"
    - 块4: "应用二倍角公式 $\sin^2(x) = \frac{1-\cos(2x)}{2}$"
    - 块5: "得到 $\int_{0}^{\pi} \frac{1-\cos(2x)}{2} dx$"
    - 块6: "计算结果 $\frac{\pi}{2}$"
  * 边框: 深绿色细边框，表示引用状态

- **AI回答部分**:
  * 开始提示: "正在分析引用块中的积分技巧..."(带加载动画)
  * 结构化回答:
    - 标题: "积分技巧分析"，18px蓝色字体
    - 章节1: "二倍角公式应用"，详细解释块4的技巧
    - 章节2: "定积分求解方法"，解释求解过程
    - 章节3: "替代解法对比"，提供其他可能的方法
  * 格式: 清晰的层级结构，关键概念加粗显示

### 交互状态与视觉反馈
- **引用块高亮联动**:
  * 当引用@3-6时，中间解题区域中的块3-6同时高亮
  * 高亮方式: 浅蓝色背景闪烁，然后保持淡蓝色背景
  
- **输入提示系统**:
  * @符号输入后的智能提示
  * 数字输入时的自动补全建议
  * 引用语法错误时的红色警告

- **动态加载效果**:
  * AI回答生成过程中的打字机效果
  * 分析完成的成功指示(绿色对勾动画)

## 场景5: DAG节点到总结面板的数据流

### 整体布局状态
- **DAG区域**: 展开至70%宽度(1344px)
  * 显示完整的多路径解题网络
  * 右上角三个按钮中"总结"按钮高亮激活
  
- **右侧区域**: 30%宽度(576px)
  * 显示总结归纳功能界面

### DAG区域节点选择状态
- **多路径网络展示**:
  * 完整显示约15个节点的解题网络
  * 两条主要解题路径:
    - 路径A: 上方一系列节点，使用方法一
    - 路径B: 下方一系列节点，使用替代方法
  
- **节点选择状态**:
  * 选中节点: 两条路径的终点节点均被选中
    - 节点A7: 路径A的终点，蓝色粗边框高亮
    - 节点B8: 路径B的终点，蓝色粗边框高亮
  * 关联高亮:
    - 路径A的所有节点半透明蓝色高亮
    - 路径B的所有节点半透明紫色高亮
  
- **选择控制元素**:
  * 多选指示: "已选择2个节点"文字提示
  * 选择模式切换: "单选/多选/路径选择"切换按钮
  * 选择清除: "清除选择"按钮

### 数据流可视化
- **连接线指示**:
  * 从选中节点延伸出的虚线箭头
  * 箭头流向右侧总结面板
  * 动画效果: 点状数据流沿箭头方向移动
  * 视觉样式: 蓝色和紫色分别对应两条路径
  
- **数据流状态指示**:
  * 传输进度: 箭头上的进度指示条
  * 完成状态: 传输完成的对勾动画
  * 附加信息: 数据量指示"传输15节点数据"

### 右侧总结归纳面板
- **面板标题区**:
  * 标题: "解题路径对比分析"，20px蓝色字体
  * 副标题: "基于2条完整解题路径的比较"
  * 控制按钮: 刷新、导出、关闭
  
- **内容生成状态**:
  * 进度指示: 环形进度条，显示75%完成
  * 状态信息: "正在分析解题路径差异..."
  * 已生成内容部分:
    - 路径基本信息对比表格
    - 方法论差异分析段落
    - 正在生成的效率分析(带打字机效果)
  
- **总结内容预览**:
  * 结构化布局:
    - 对比表格: 两列对比不同路径特征
    - 优缺点分析: 项目符号列表
    - 效率分析图表: 条形图比较步骤数和复杂度
  * 格式化元素:
    - 重点内容加粗
    - 关键差异用颜色标识
    - 推荐路径有星号标记

- **交互控件**:
  * 总结类型选择: "简要/详细/对比分析"切换按钮
  * 关注点调整: "步骤/概念/效率"多选框
  * 导出选项: PDF/MD/LaTeX格式选择

### 交互状态与反馈
- **实时更新机制**:
  * DAG选择变化时面板内容实时更新
  * 选择不同节点组合时的内容刷新动画
  
- **分析深度控制**:
  * 滑块控制分析详细程度
  * 当前设置在"详细"与"综合"之间
  
- **用户引导元素**:
  * 提示气泡: "选择两个终点节点以比较完整路径"
  * 交互建议: "拖动分隔条调整查看空间"

## 场景6: 界面布局动态调整

### 三态布局并排展示
- **画布布局**: 1920×1080像素水平分为三等份，展示三种界面状态

### 状态1: 默认布局(左27.5%/中45%/右22.5%)
- **左侧DAG区域**: 标准宽度显示简化DAG网络
- **中间解题区域**: 完整宽度显示题目和3个解答块
- **右侧面板**: 三个折叠状态的AI面板垂直排列
- **状态标识**: 标题"默认布局状态"，下方说明"初始状态与常规工作模式"

### 状态2: AI面板激活(左图标/中50%/右50%)
- **左侧**: DAG区域折叠为窄条图标
- **中间**: 解题区域占50%宽度，内容同默认布局
- **右侧**: 解释分析面板展开至50%宽度，显示完整功能
- **状态标识**: 标题"AI面板激活状态"，下方说明"深入分析特定解题步骤"
- **触发说明**: 图标+文字"通过拖拽块或@引用激活面板"

### 状态3: DAG展开(左70%/右30%)
- **左侧**: DAG区域扩展至70%，显示完整解题网络
- **右侧**: 30%宽度显示问题探索面板
- **状态标识**: 标题"DAG展开状态"，下方说明"分析完整解题路径网络"
- **触发说明**: 图标+文字"点击DAG区域展开按钮"

### 状态转换箭头与说明
- **默认→AI面板激活**:
  * 连接箭头: 状态1指向状态2的蓝色箭头
  * 说明文字: "拖拽解答块到AI面板或使用@引用"
  * 触发图示: 小动画显示拖拽操作
  
- **默认→DAG展开**:
  * 连接箭头: 状态1指向状态3的绿色箭头
  * 说明文字: "点击左侧DAG展开按钮"
  * 触发图示: 展开按钮高亮动画
  
- **状态恢复箭头**:
  * 两条返回默认状态的灰色虚线箭头
  * 说明文字: "点击关闭/恢复按钮返回默认状态"

### 分隔条拖动演示
- **状态2分隔条**:
  * 垂直分隔线上有拖动指示器(三个水平小短线)
  * 旁边的双向箭头光标
  * 说明文字: "拖动调整中间区域与AI面板比例"
  
- **状态3分隔条**:
  * 垂直分隔线上有拖动指示器
  * 小型演示动画显示拖动可调整DAG与右侧面板比例
  * 说明文字: "拖动调整DAG与功能面板比例(20%-80%范围内)"

### 全局说明元素
- **顶部标题**: "AI-MATH界面布局动态调整"，28px蓝色字体
- **全局说明**: "界面根据当前任务智能调整布局，提供最佳工作区比例"
- **操作提示**: "双击分隔条恢复默认比例"
- **布局预设**: 底部显示"保存当前布局为预设"选项

这些详细场景描述涵盖了AI-MATH界面的核心交互模式、布局变化和功能特性，可以作为UI设计师创建视觉稿或原型的参考基础。